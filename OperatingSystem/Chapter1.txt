第一章 操作系统引论

操作系统的定义：
A program that acts as an intermediary between a user of a computer and the computer handware

操作系统的目标：
使用户方便地使用计算机
使计算机硬件高效运行

计算机系统的四个层次
硬件<->操作系统<->软件<->用户

现代计算机系统的特征
1.多程序 multiprogramming
  1.单用户系统有先天缺陷，无法让cpu和i/o设备同时处于运行状态
  2.多程序思想让多个程序竞争使用cpu
  3.作业调度器每次选择一个作业交给cpu执行
  4.当某个作业被迫等待时，cpu执行另一个作业
2.多任务 multitasking 分时系统 TimeSharing
  进一步扩展多程序思想，使cpu更快捷地在作业之间切换，这样，作业总能及时得到cpu相应用户的交互操作，称为交互式计算
3.cpu提供Dual-Mode机制 实现操作系统的自我保护
  用户态(User Mode)和内核态(Kernel Mode)

操作系统的服务功能
  进程管理
  内存管理
  外存管理
  大容量存储器管理
  I/O设备管理

操作系统的系统调用(System Calls)
  用高级语言实现
  程序通常以API使用，而不是直接使用系统调用
  三大流行APIs，win32API，POSIXAPI，JavaAPI

操作系统的结构
  1.简单结构 MS-DOS
  2.层次化方法 UNIX
  3.微内核结构 MacOS(层次化+微内核)
  4.模块(Modules) Solaris

操作系统的目标
1.有效性
2.方便性
3.可扩展性
4.开放性

操作系统的作用
1.OS作为用户与计算机硬件系统之间的接口
2.OS作为计算机系统资源的管理者
3.OS实现了对计算机资源的抽象

推动操作系统发展的主要动力
1.不断提高计算机资源的利用率
2.方便用户
3.器件的不断更新换代
4.计算机体系结构的不断发展

操作系统：操作系统是一组控制和管理计算机硬件和软件资源，合理地对各类作业进行调度，以及方便用户使用的程序的集合

无操作系统 -> 单道批处理系统 -> 多道批处理系统

单道批处理系统的特征：1.自动性 2.顺序性 3.单道性
多道批处理系统的特征：1.资源利用率高 2.系统吞吐量大 3.平均周转时间长 4.无交互能力
多道批处理系统需要解决的问题：1.处理器管理问题 2.内存管理问题 3.I/O设备管理问题 4.文件管理问题 5.作业管理问题

注：脱机输入/输出方式(Off-Line I/O) 程序和数据的输入和输出在外围机控制下完成
联机输入/输出方式(On-Line I/O) 程序和数据的输入和输出在主机的控制下完成

分时系统(分时是分享同时的意思) Time Sharing System 在一台主机上连接了多个带有显示器和键盘的终端，同时允许多个用户通过自己的终端，以交互的方式使用计算机，共享主机中的资源
1.人机交互(边运行边修改) 2.共享主机 3.便于用户上机

注：人机交互 及时接收，及时处理

分时系统的特征：1.多路性 2.独立性 3.及时性 4.交互性

实时系统(及时) Real Time System
实时系统中有多个实时任务，实时任务可分为 1)周期性和非周期性实时任务 2)硬实时任务和软实时任务

分时系统和实时系统的比较：
1)多路性 实时系统也可以用分时原则服务多个用户，而实时系统主要周期性的对多路进行信息采集，而分时系统主要根据用户使用情况有关
2)独立性 都是互不干扰
3)及时性 实时系统主要由任务的开始截止时间或完成截止时间来确定，时间为毫秒级甚至100微秒，而分时系统根据人能所接受的等待时间来确定
4)交互性 实时系统的交互只支持某些特定的服务程序，而分时系统能向终端用户提供数据处理和资源共享
5)可靠性 实时系统比分时系统可靠性要高很多

微机操作系统
1.单用户单任务操作系统 MS-DOS
2.单用户多任务操作系统 Windows
3.多用户多任务操作系统 UNIX

操作系统的基本特征
1）并发性
1.并行和并发
并行性：指两个或多个时间在同一时刻发生 并发性：指两个或多个时间在同一时间间隔内发生
在多道程序环境下，并发性是指一段时间内宏观上有多个程序在同时运行，但在单处理器系统中，每一时刻却仅能有一道程序执行，故微观上这些程序只能分时地交替执行。倘若在计算机系统中有多个处理器，则这些可以并发执行的程序便可分配到多个处理器上，实现并行执行
2.进程
进程指系统中能独立运行并作为资源分配的基本单位，它是由一组机器指令，数据和堆栈等组成的，是一个能独立运行的活动实体
3.线程
进程是分配资源的基本单位，而把线程作为独立运行和独立调度的基本单位

2）共享性
1.互斥共享方式 2.同时访问方式

3）虚拟技术
通过某种技术把一个物理实体变为若干个逻辑上的对立物
1.时分复用技术 2.空分复用技术

4）异步性
指进程以不可预知的速度向前推进

操作系统的主要功能
1.处理器管理功能
2.存储器管理功能
3.设备管理功能
4.文件管理功能
5.操作系统与用户之间的接口

操作系统结构设计
1）传统的操作系统结构
1.无结构操作系统
2.模块化结构操作系统
衡量模块的独立性的标准
内聚性：指模块内部各部分间联系的紧密程度。内聚性越高，模块的独立性越强
耦合性：指模块间相互联合和相互影响的程度。耦合性越低，模块的独立性越强
3.分层式结构操作系统

2）微内核操作系统结构
1.足够小的内核
2.基于客户/服务器模式
单机环境下，在微内核基础上，客户进程通过请求，文件服务器(进程)通过回答的方式通过内核的传递信息
3.应用”机制与策略分离“原理
机制：指实现某一功能的具体执行机构 策略：在机制的基础上，借助某些参数和算法来实现该功能的优化
4.采用面向对象技术

客户/服务器模式(Client/Server)
客户机 <-> 网络系统 <-> 服务器
客户发送请求消息 -> 服务器接受消息 -> 服务器回送消息 -> 客户机接收消息

面向对象的程序设计