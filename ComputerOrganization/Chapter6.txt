输入/输出系统和设备：与计算机外部交换信息的通道

外部设备的特点：种类繁多，功能繁杂，速度不一

控制方式：
  1.程序直接控制：成本低，效率低，严重占用计算机资源
  2.程序中断：CPU和外部设备同时工作 提高CPU效率 可以管理多个外部设备
    由于设备中断或代码异常，引发中断，查询中断触发器中的中断原因和中断状态寄存器来选择是否响应中断

    中断的完整过程
      1.中断请求
        中断源设备设置中断触发器
          每个中断源有一个中断触发器
          同时可设置一个中断屏蔽触发器
      2.中断响应
        响应条件：允许中断，当前指令结束，优先级
        响应实现：硬件实现的中断隐指令，保存断点
      3.中断处理
        保存现场信息
        运行中断服务程序
        中断返回，还原现场
      4.中断设备接口组成
        中断请求寄存器
        中断屏蔽寄存器
        优先级排队线路
        数据缓冲寄存器
        中断控制和工作状态逻辑
        设备选择器
        中断向量表

  3.直接存储访问(DMA)：
    IO设备和主存储器之间的直接数据通路，数据传输的过程由DMA自动控制
    DMA工作方式：独占总线方式 周期窃取方式

  4.输入输出通道 
  5.外围处理机

设计输入/输出系统：
  性能：
    1.考虑吞吐量和延迟
    2.适应各种不同类别的设备的性能的差异
    3.从操作系统，驱动程序等各方面综合考虑
    4.考虑到设备性能的提高
  可扩展性：允许更多的设备接入到输入/输出系统
  可适应性：设备有无，设备故障

总线(Bus)：共享的信息通道，用于连接计算机多个子系统

总线的好处：
  解决外部设备“繁”的问题
  降低成本
总线的不足
  容易成为信息通道的瓶颈
  总线的最高速度主要由下列因素决定：
    总线长度
    总线负载的设备数
    负载设备的特性

双总线系统：由输入/输出总线和处理器-主存总线构成
  输入/输出总线通过适配器和处理器-主存总线相连
  处理器-主存总线：主要用于处理器和主存储器之间的通信
  输入/输出总线：为输入/输出设备提供信息

三总线系统：由输入/输出总线和主板总线和处理器-主存总线构成

总线类型
  处理器-主存总线(专门设计)
    传输距离短，速度高，主存储器专用
    直接和处理器连接
    优化处理使之适应cache块传送
  输入/输出总线(行业标准)
    通常距离较长，速度较慢
    需要适应多种输入/输出设备
    和处理器-主存中线通过桥连接(或通过主板总线)
  主板总线(行业标准或专门设计)
    连接各部件器件的底盘
    应允许处理器，主存储器和输入输出设备互连
    应有价格优势

总线主设备：有能力控制总线，发起总线事务
总线从设备：响应主设备请求
总线通信协议：定义总线传输中的事件顺序和时序要求
异步总线传输：控制信号(请求，应答)作为总控信号
同步总线传输：使用共同的时钟信号

总线仲裁的基本要求：
  某总线主设备使用总线前应发出总线请求
  只有得到授权后，主设备才能使用总线
  使用完毕后，主设备应通知仲裁器
总线仲裁器在以下两方面取得平衡：
  优先权：优先级高的设备应该得到优先服务
  公平性：但低优先级的设备也应有得到服务的机会
总线仲裁方式：
  集中仲裁和分布仲裁

菊链仲裁  集中平行仲裁

接口电路和外部设备：
  接口的基本功能：
    提供主机识别(指定，找到)使用IO设备的支持
    建立主机和设备之间的控制和通信机制
    提供主机和设备之间信息交换过程中的数据缓冲机构
    提供主机和设备之间信息交换过程中的其他特别需求支持

8251芯片：支持同步/异步的发送/接受功能

USB(通用串行总线)接口：
  USB结构：根HUB，层次结构
  设备检测：根HUB定时查询接口状态，若检测到有设备接入到接口上，则为该设备赋地址(7位)。设备初始地址为0，每个设备上有ROM，保存设备参数
  USB帧：控制帧，同步帧，块传送帧，中断帧